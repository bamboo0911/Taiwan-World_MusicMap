<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>åœ°åœ–æ¢ç´¢</title>
  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
  <style>
    /* è‰²å½©è®Šæ•¸ */
    :root {
      --celadon: #94d8bcff;
      --flame: #e16036ff;
      --indigo-dye: #08415cff;
      --xanthous: #f3b61fff;
      --quinacridone-magenta: #922d50ff;
      --light-gray: #f5f5f5;
      --dark-gray: #333333;
    }
    /* Reset & åŸºæœ¬æ’ç‰ˆ */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html, body {
      height: 100%;
      font-family: 'Noto Sans TC', 'å¾®è»Ÿæ­£é»‘é«”', Arial, sans-serif;
      background: rgba(148, 216, 188, 0.3); /* æ”¹ç‚º 94d8bc 30% ä¸é€æ˜ */
      color: var(--dark-gray);
      overflow-x: hidden;
    }
    a {
      text-decoration: none;
      color: inherit;
    }

    /* å°è¦½åˆ— */
    .navbar {
      background: #ffffff;
      border-bottom: 1px solid #e0e0e0;
      padding: 0.8rem 2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .navbar h1 {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--indigo-dye);
    }
    .navbar a {
      margin-left: 1.5rem;
      font-size: 1rem;
      color: var(--dark-gray);
      transition: color 0.2s;
    }
    .navbar a:hover {
      color: var(--flame);
    }

    /* ä¸»è¦å®¹å™¨ */
    .container {
      width: 95%;
      max-width: 1000px;
      margin: 2rem auto;
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      padding: 2rem;
    }
    h2 {
      text-align: center;
      margin-bottom: 1rem;
      font-size: 1.8rem;
      font-weight: 600;
      color: var(--indigo-dye);
    }
    .section-title {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: var(--quinacridone-magenta);
      font-weight: 500;
    }
    #explore-map {
      width: 100%;
      height: 550px;
      border-radius: 4px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .info {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #555555;
    }

    /* Popup è‡ªè¨‚æ¨£å¼ */
    .leaflet-popup-content-wrapper {
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .leaflet-popup-content {
      color: var(--dark-gray);
      font-size: 0.95rem;
    }
    .leaflet-popup-content a {
      color: var(--flame);
      text-decoration: none;
    }
    .leaflet-popup-content a:hover {
      text-decoration: underline;
    }

    /* Footer */
    .footer {
      text-align: center;
      font-size: 0.85rem;
      color: #888888;
      margin: 2rem 0 1rem;
    }
  </style>
</head>
<body>

  <!-- å°è¦½åˆ— -->
  <nav class="navbar">
    <h1>éŸ³æ¨‚äº¤æ›åœ°åœ–</h1>
    <div>
      <a href="index.html">ğŸ  é¦–é </a>
      <a href="upload.html">â• ä¸Šå‚³æ´»å‹•</a>
      <a href="explore.html">ğŸ” ç€è¦½åœ°åœ–</a>
    </div>
  </nav>

  <!-- å…§å®¹å®¹å™¨ -->
  <div class="container">
    <h2>ğŸ” åœ°åœ–æ¢ç´¢</h2>
    <div class="section-title">æŸ¥çœ‹äº¤æ›ç´€éŒ„</div>
    <div id="explore-map"></div>
    <p class="info">é»æ“Šåœ°åœ–ä¸Šçš„æ¨™è¨˜å³å¯æŸ¥çœ‹äº¤æ›è©³æƒ…ã€‚</p>
  </div>

  <!-- Footer -->
  <div class="footer">Â© 2025 è‡ºç£ä¸–ç•ŒéŸ³æ¨‚åœ°åœ– MVP</div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    (function() {
      // å‡è³‡æ–™ï¼šç¤ºç¯„å…©ç­†äº¤æ›äº‹ä»¶
      const dummyEvents = [
        {
          id: '1',
          userA: 'Alice',
          userB: 'Bob',
          partnerNationality: 'Japan',
          latitude: 25.0330,
          longitude: 121.5654,
          locationCountry: 'Taiwan',
          musicLink: 'https://youtu.be/dQw4w9WgXcQ',
          description: 'åœ¨å°åŒ—101å‰èˆ‡ Bob äº¤æ›äº†ä¸€é¦–ç¶“å…¸æ­Œæ›²ã€‚',
          createdAt: '2025-05-20',
        },
        {
          id: '2',
          userA: 'Charlie',
          userB: 'Diana',
          partnerNationality: 'USA',
          latitude: 35.6895,
          longitude: 139.6917,
          locationCountry: 'Japan',
          musicLink: 'https://open.spotify.com/track/abcdefg',
          description: 'åœ¨æ±äº¬æ¾€è°·èˆ‡ Diana åˆ†äº«æ–°ç™¼ç¾çš„ç¨ç«‹éŸ³æ¨‚ã€‚',
          createdAt: '2025-05-25',
        }
      ];

      // åˆå§‹åŒ–åœ°åœ–
      const exploreMap = L.map('explore-map').setView([25.0330, 121.5654], 3);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; OpenStreetMap contributors'
      }).addTo(exploreMap);

      // æ¸²æŸ“å‡è³‡æ–™æ¨™è¨˜
      dummyEvents.forEach(evt => {
        const lat = evt.latitude;
        const lng = evt.longitude;
        const popupHtml = `
          <div style="color: var(--dark-gray);">
            <strong style="color: var(--indigo-dye);">${evt.userA} â†” ${evt.userB}</strong><br/>
            <em>å°è±¡åœ‹ç±ï¼š</em><span style="color: var(--indigo-dye);">${evt.partnerNationality}</span><br/>
            <em>åœ°é»åœ‹å®¶ï¼š</em><span style="color: var(--indigo-dye);">${evt.locationCountry}</span><br/>
            <em>æ™‚é–“ï¼š</em>${evt.createdAt}<br/>
            <em>éŸ³æ¨‚é€£çµï¼š</em><a href="${evt.musicLink}" target="_blank">${evt.musicLink}</a><br/>
            ${evt.description ? `<em>æè¿°ï¼š</em>${evt.description}<br/>` : ''}
          </div>
        `;
        L.marker([lat, lng]).addTo(exploreMap).bindPopup(popupHtml);
      });
    })();
  </script>
</body>
</html>